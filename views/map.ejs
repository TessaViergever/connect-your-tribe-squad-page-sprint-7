<%- include('./partials/head') %>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="./scripts/datamaps.world.min.js"></script>
<div id="container" style="position: relative; width: 500px; height: 300px;"></div>
<script>
    var map = new Datamap( //inladen van datamap
        {
            element: document.getElementById('container'), //= defaultsettings van datamap aanpassen

            fills: {                                       // = landkleuren aanpassen
                visitedCountryColor: '#66e5bf',
                defaultFill: '#050542'
            },

            // I want this to delete the hover highlight but it's not worrrrking
            // geographyConfig: {
            //     highlightOnHover: false,
            // },


            data: {                                         //alle landen + wie deze bezocht hebben 
                ARG: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },

                AUS: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                AUT: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },

                BEL: {
                    fillKey: 'pvisitedCountryColor',
                    classmatesVisited: []
                },
                BGR: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                BLZ: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                BOL: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                BRA: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                BWA: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },

                CAN: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                CHL: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                CHN: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                CRI: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                CUB: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },

                DEU: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },

                ECU: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                EGY: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },
                ESP: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: []
                },

                IRL: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: [
                        'Rosa',
                        'Michelle',
                        'Stefan'
                    ]
                },

                USA: {
                    fillKey: 'visitedCountryColor',
                    classmatesVisited: [
                        '<%= squad.members[0].name %>',
                        '<%= squad.members[6].name %>',
                    ]
                }
            },

            geographyConfig: {                                          //pop up met data hoeveel mensen bezocht + namen
                popupTemplate: function (geo, data) {
                    let classmateNames = '';
                    data.classmatesVisited.forEach((classmate, index) => {
                        if (index == data.classmatesVisited.length - 1) {
                            classmateNames += classmate
                        } else {
                            classmateNames += classmate + ", "
                        }
                    })

                    return `
                <div class="hoverinfo">
                    <strong>
                        ${geo.properties.name}
                    </strong>
                    <p>Zoveel klasgenoten zijn hier geweest: ${data.classmatesVisited.length}</p>
                    <p>Dit zijn hun namen: ${classmateNames}</p>
                </div>`
                }
            }
        });



</script>


<%- include('./partials/foot') %>


  